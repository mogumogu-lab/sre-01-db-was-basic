<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>WebSocket Test</title>
  </head>
  <body>
    <h1>WebSocket Echo Test</h1>
    <input id="msg" placeholder="ë©”ì‹œì§€ ìž…ë ¥" />
    <button onclick="sendMessage()">Send</button>
    <pre id="log"></pre>

    <script>
      const log = document.getElementById("log");
      let ws;

      function append(msg) {
        log.textContent += msg + "\n";
      }

      // WebSocket ì„œë²„ ì—°ê²° (í¬íŠ¸ ì£¼ì˜!)
      ws = new WebSocket("ws://localhost:53000/ws");

      ws.onopen = () => append("âœ… ì—°ê²° ì„±ê³µ!");
      ws.onmessage = (e) => append("ì„œë²„ ì‘ë‹µ: " + e.data);
      ws.onerror = (e) => append("âŒ ì˜¤ë¥˜: " + e.message);
      ws.onclose = () => append("ðŸ”Œ ì—°ê²° ì¢…ë£Œ");

      function sendMessage() {
        const input = document.getElementById("msg");
        ws.send(input.value);
        append("ë‚˜: " + input.value);
        input.value = "";
      }
    </script>
  </body>
</html>
